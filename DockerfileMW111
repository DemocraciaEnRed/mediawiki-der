FROM mediawiki:1.32.2

#VisualEditor extension
WORKDIR /var/www/html/extensions
RUN git clone -b REL1_32 https://gerrit.wikimedia.org/r/mediawiki/extensions/VisualEditor.git
WORKDIR VisualEditor
RUN git submodule update --init

#Mobile skins
WORKDIR /var/www/html/skins
RUN git clone --recurse-submodules https://github.com/hutchy68/pivot.git
RUN git clone --recurse-submodules https://github.com/thingles/foreground.git
RUN git clone --recurse-submodules https://github.com/thaider/Tweeki

#Crashea la db, no hacer
#COPY LocalSettings.php /var/www/html/

#Dejar en root para la shell
WORKDIR /var/www/html

